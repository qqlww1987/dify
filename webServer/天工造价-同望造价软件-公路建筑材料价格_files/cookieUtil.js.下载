/*
name:cookie名
value:cookie值
 
//写入cookie
function setCookie(name, value, days) {
	var Days = days; // 此 cookie 将被保存天天数
	var exp = new Date();
	exp.setTime(exp.getTime() + Days * 24 * 60 * 60 * 1000);
	document.cookie = name + "=" + escape(value) + ";expires="
			+ exp.toGMTString() + ";path=/";
}*/

/**
 * 写入cookie
 *
 * @param name cookie名
 * @param value cookie值
 * @param days 此cookie 将被保存天天数
 * @param domain 设置 cookie的域

 * @author zhuwp modify 2015-06-18
 */
function setCookie(name, value, days, domain) {
	var expiry = new Date(new Date().getTime() + (days * 24 * 60 * 60 * 1000));
	
	document.cookie = [name, "=", escape(value), 
		               ";expires=", expiry.toGMTString(), 
				       ";path=/", 
					   ";domain=", (domain ? domain : "")
					  ].join("");
}

/*
// 删除cookie
function delCookie(name) {
	var exp = new Date();
	exp.setTime(exp.getTime() - 1);
	var cval = getCookie(name);
	if (cval != null)
		document.cookie = name + "=" + cval + ";expires=" + exp.toGMTString() + ";path=/";
}
*/

/**
 * 删除cookie
 *
 * @param name cookie名
 * @param domain cookie的域

 * @author zhuwp modify 2015-06-18
 */
function delCookie(name, domain) {
	var expiry = new Date(new Date().getTime() - 1000);
	document.cookie = [name, "=over", 
					   ";expires=", expiry.toGMTString(), 
					   ";path=/", 
					   ";domain=", (domain ? domain : "")
					  ].join("");
}

// 读取cookie
function getCookie(name) {
	var arr = document.cookie.match(new RegExp("(^| )" + name + "=([^;]*)(;|$)"));
	if (arr != null)
		return unescape(arr[2]);
	return null;
}

/**
 * 遍历cookie 根据 key 获取 cookie 值
 * 解决多个域（xxx.tgcost.com 与 .tgcost.com）设置同一个cookie 
 *
 * @param name cookie名
 * @param sort 遍历cookie的顺序 
 *			asc  起始位置开始
 *			desc 末尾位置开始
 * @author zhuwp modify 2015-06-18
 */
function getLocation(name, sort) {
	sort = sort ? sort : "asc";
	var cookieArr = document.cookie.split(";");
	var cookieItem = null;

	if(sort == "asc") {
		for(var i = 0; i < cookieArr.length; i++){
			cookieItem = cookieArr[i].split("=");

			if(cookieItem.length < 2)
				continue;

			if(cookieItem[0].replace(/(^\s*)|(\s*$)/g, "") == name)
				return cookieItem[1];
		}

	} else if (sort == "desc") {
		for(var i = cookieArr.length - 1; i >= 0; i--){
			cookieItem = cookieArr[i].split("=");
			
			if(cookieItem.length < 2)
				continue;

			if(cookieItem[0].replace(/(^\s*)|(\s*$)/g, "") == name)
				return cookieItem[1];
		}
	}
	return null;
}